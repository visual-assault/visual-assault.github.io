//
// Module: header
// ==============
//
// High-level styles for the header
//


.site__header {
  z-index: 1000;
  margin-bottom: $baseline*3;
}

.site__nav {
  ul {
    overflow: visible;
  }

  li + li {
    margin-left: $baseline;
  }

  a {
    text-decoration: none;

    color: $light-gray;

    &.active, &.active:hover {
      color: $dark-gray;
      text-decoration: underline;
    }

    &:hover {
      color: $dark-gray;
    }
  }
}

$logo-colors: (
  $highlight, // Summer
  #4fb5c6,    // Spring
  #c64f51,    // Fall
  #a881a2     // Winter
);

$l: length($logo-colors);

.site__title {
  animation: color-cycle #{$l/8}s steps(1, end) infinite;
  animation-play-state: paused;

  &:hover {
    animation-play-state: running;

    .logo__line {
        animation: wraparound 1s ease;

        &--bottom {
          animation-delay: .1s;
        }
    }
  }
}

.logo__line {
  stroke-dasharray: 40px;
  stroke-dashoffset: 0;

  .js-init & {
    animation: dash 1s .25s cubic-bezier(.785, .135, .15, .85);
    animation-fill-mode: backwards;

    &--top, &--bottom {
      animation-duration: 1s;
      animation-delay: .75s;
      animation-timing-function: cubic-bezier(.5,.1,0,.8);
    }

    &--bottom {
      animation-delay: .9s;
    }
  }
}

@keyframes dash {
  from {
    stroke-dashoffset: 40;
  }
}

@keyframes wraparound {
  to {
    stroke-dashoffset: 80;
  }
}

@keyframes color-cycle {
  @for $i from 1 through $l {
    #{(100/$l)*($i - 1)}% {
      background-color: nth($logo-colors, $i);
    }
  }
}

